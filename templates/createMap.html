<!DOCTYPE html>
<html lang="ja">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>CreateMapSample</title>
    <style type="text/css">
        body {
        }

        #createCvs, #backCreateCvs, #middleCreateCvs {
            position: absolute;
            top: 20px;
            left: 20px;
            width: {{ cvs_width }}px;
            height: {{ cvs_height }}px;
        }

        #paletBtns {
            position: absolute;
            top: 420px;
            left: 20px;
            width: 200px;
            height: 200px;
        }

        #paletBtns > button {
            padding: 20px 20px;
        }

        .paletBtn {
            padding: 10px;
            color: #e8e8e8;
            border-radius: 6px;
            box-shadow: 2px 2px 5px #000;
        }

        .paletBtn:focus {
            outline: 1px;
            border-color: white;
        }

        #blockBtn {
            background-image: url("{% static 'img/block_b.png' %}");
        }

        #characterBtn {
            background: #eee;
            background-image: url("{% static 'img/akito40.png' %}");

        }

        #goalBtn {
            background: #ddd;
            background-image: url("{% static 'img/goalFlag.png' %}");
        }
        
        #createCvs{
            cursor: none;
        }
    </style>
    <script type="text/javascript">
        /**
         * 外部jsファイルではsrcを取得することが出来ないため、html内で取得
         */
        var lemSrc = "{% static 'img/lemmini.png' %}";
        var akitoSrc = "{% static 'img/akito40.png' %}";
        var t26e5Src = "{% static 'img/t26e5mini.png' %}";
        var mainImageSrc = "{% static 'img/akito40.png' %}";
        var masaruSrc = "{% static 'img/masaru.png' %}";
        var tyagumaSrc = "{% static 'img/tyaguma.png' %}";
        var sunagauoSrc = "{% static 'img/sunagafish.png' %}";
        var block_bSrc = "{% static 'img/block_b.png' %}";
        var umiSrc = "{% static 'img/umi.jpg' %}";
        var goalSrc = "{% static 'img/goalFlag.png' %}";
        var ebataSrc = "{% static 'img/ebata.jpg' %}";
        var dragSoundSrc = "{% static 'audio/switch01.mp3' %}";
        var ifBreakSrc = "{% static 'img/if_brake.png' %}";
        var midDropSrc = "{% static 'img/midDrop.png' %}";
        var whileStr2Src = "{% static 'img/whileStr2.png' %}";
        var whileStr3Src = "{% static 'img/whileStr3.png' %}";
        var whileStr4Src = "{% static 'img/whileStr4.png' %}";
        var forward1Src = "{% static 'img/forward1.png' %}";
        var forward2Src = "{% static 'img/forward2.png' %}";
        var forward3Src = "{% static 'img/forward3.png' %}";
        var forward4Src = "{% static 'img/forward4.png' %}";
        var cBGImageSrc = "{% static 'img/createBG1px.png' %}";
        var c_selectSrc = "{% static 'img/c_select.png' %}";
        /**
         * サーバー側から送信されるデータを取得
         */
        var mapData = {{ mapData|safe }};// mapデータ（二次元配列） 文字化け対策で |safe
        var block_size = {{ block_size }};// 1つあたりのブロックの大きさ(正方形想定)
        var cvs_width = {{ cvs_width }};
        var cvs_height = {{ cvs_height }};
        var pPositionX = {{ pPositionX }};// プレイヤー初期X座標
        var pPositionY = {{ pPositionY }};// プレイヤー初期Y座標
    </script>
</head>
<body>
<h1>はろわ</h1>
<div id="create">
    <canvas id="backCreateCvs" height="{{ cvs_height }}px" width="{{ cvs_width }}px"></canvas>
    <canvas id="middleCreateCvs" height="{{ cvs_height }}px" width="{{ cvs_width }}px"></canvas>
    <canvas id="createCvs" height="{{ cvs_height }}px" width="{{ cvs_width }}px"
            oncontextmenu="{return false;}"></canvas>
</div>
<div id="paletBtns">
    <button id="blockBtn" class="paletBtn"></button>
    <button id="characterBtn" class="paletBtn"></button>
    <button id="goalBtn" class="paletBtn"></button>
    <form action="" method="post">{% csrf_token %}<!-- クロスサイトリクエストフォージェリ (CSRF) 対策 -->
        <input type="hidden" name="map" value="mapData">
        <input type="submit" value="送信" />
    </form>
</div>
<script type="text/javascript" src="{% static 'js/createMap.js' %}"></script>
</body>
</html>